{"ast":null,"code":"var _jsxFileName = \"/home/misha/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0438/Projects/ToDoList/client/src/components/Projects/MenuProjects.jsx\";\nimport React from \"react\";\nimport NewProjectForm from './NewProjectForm';\nimport ProjectsList from './ProjectsList';\n\nclass MenuProjects extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.Object = {\n      list: \"Тут має бути якийсь проєкт\"\n    };\n\n    this.getObjetProject = () => {\n      let request = new XMLHttpRequest();\n      request.open('GET', \"/projectsList\");\n      request.responseType = 'json';\n      request.send();\n\n      request.onreadystatechange = function () {\n        let json = request.response;\n        console.log(JSON.stringify(json));\n        this.Object = {\n          list: json\n        };\n      };\n    };\n\n    this.sendFormNewProject = async e => {\n      e.preventDefault();\n      let formSendProject = document.forms[\"form-send-project\"];\n      let newProject = formSendProject.elements[\"newproject\"].value;\n\n      if (newProject !== \"\") {\n        // Serialize data to JSON\n        let project = JSON.stringify({\n          newproject: newProject\n        });\n        let request = new XMLHttpRequest(); // Send form to adress \"/sendproject\"\n\n        request.open(\"POST\", \"/sendproject\", true);\n        request.setRequestHeader(\"Content-Type\", \"application/json\"); // Clear form\n\n        document.getElementById('new-project').value = \"\";\n        console.log(project);\n        request.send(project); // request.onreadystatechange = function (data) {\n        //     let json = data.target.response;\n        //     this.Object = ({ list: json });\n        //     for(const key in Object.list) {\n        //         console.log(json[key].project);\n        //     }\n        // }\n        // let obj = this.getObjetProject ();\n        // for(const key in obj) {\n        //     console.log(obj[key].project);\n        // }\n        // this.Object = ({ list: obj});\n\n        this.forceUpdate();\n      }\n    };\n\n    this.render = () => {\n      let obj = this.getObjetProject();\n\n      for (const key in obj) {\n        console.log(\"\\nMy list is:\" + obj[key].project);\n      }\n\n      return React.createElement(\"div\", {\n        className: \"menu-item\",\n        id: \"item-project\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"menu-item-head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0438\"), React.createElement(\"b\", {\n        className: \"menu-button-add\",\n        id: \"add-project\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" + \")), React.createElement(\"div\", {\n        className: \"form-add-div\",\n        id: \"form-add-divproject\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(ProjectsList, {\n        list: this.Object.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"menu-item-headbutton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\u041D\\u043E\\u0432\\u0438\\u0439 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\")), React.createElement(NewProjectForm, {\n        sendFormNewProject: this.sendFormNewProject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })));\n    };\n  }\n\n}\n\nexport default MenuProjects;","map":{"version":3,"sources":["/home/misha/Документи/Projects/ToDoList/client/src/components/Projects/MenuProjects.jsx"],"names":["React","NewProjectForm","ProjectsList","MenuProjects","Component","Object","list","getObjetProject","request","XMLHttpRequest","open","responseType","send","onreadystatechange","json","response","console","log","JSON","stringify","sendFormNewProject","e","preventDefault","formSendProject","document","forms","newProject","elements","value","project","newproject","setRequestHeader","getElementById","forceUpdate","render","obj","key"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport NewProjectForm from './NewProjectForm';\nimport ProjectsList from './ProjectsList';\n\nclass MenuProjects extends React.Component {\n    Object = {\n        list: \"Тут має бути якийсь проєкт\"\n    }\n\n    getObjetProject = () => {\n        let request = new XMLHttpRequest();\n        request.open('GET', \"/projectsList\");\n        request.responseType = 'json';\n        request.send();\n        request.onreadystatechange = function() {\n            let json = request.response;\n            console.log(JSON.stringify(json));\n            this.Object = ({ list: json });\n           \n        }\n    }\n\n    sendFormNewProject = async (e) => {\n        e.preventDefault();\n\n        let formSendProject = document.forms[\"form-send-project\"];\n        let newProject = formSendProject.elements[\"newproject\"].value;\n        if (newProject !== \"\") {\n            // Serialize data to JSON\n            let project = JSON.stringify({ newproject: newProject });\n            let request = new XMLHttpRequest();\n            // Send form to adress \"/sendproject\"\n            request.open(\"POST\", \"/sendproject\", true);\n            request.setRequestHeader(\"Content-Type\", \"application/json\");\n            // Clear form\n            document.getElementById('new-project').value = \"\";\n            console.log(project);\n            request.send(project);\n            // request.onreadystatechange = function (data) {\n            //     let json = data.target.response;\n            //     this.Object = ({ list: json });\n            //     for(const key in Object.list) {\n            //         console.log(json[key].project);\n            //     }\n            // }\n\n            // let obj = this.getObjetProject ();\n            // for(const key in obj) {\n            //     console.log(obj[key].project);\n            // }\n            // this.Object = ({ list: obj});\n            this.forceUpdate()\n        }\n    }\n\n    render = () => {\n        let obj = this.getObjetProject ();\n        for(const key in obj) {\n        console.log(\"\\nMy list is:\" + obj[key].project);\n        }\n        return ( \n            <div className=\"menu-item\" id=\"item-project\">\n                <div className=\"menu-item-head\" >\n                    <h4>Проекти</h4><b className=\"menu-button-add\" id=\"add-project\"> + </b>\n                </div>\n                <div className=\"form-add-div\" id=\"form-add-divproject\">\n                    <ProjectsList list={ this.Object.list }/>\n                    <div className=\"menu-item-headbutton\"><b>Новий проект</b></div>\n                    <NewProjectForm sendFormNewProject = {this.sendFormNewProject}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default MenuProjects;\n"]},"metadata":{},"sourceType":"module"}