{"ast":null,"code":"var _jsxFileName = \"/home/misha/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0438/Projects/ToDoList/client/src/components/Projects/MenuProjects.jsx\";\nimport React from \"react\";\nimport NewProjectForm from './NewProjectForm';\nimport ItemProject from \"./ItemProject\";\n\nclass MenuProjects extends React.Component {\n  constructor() {\n    super();\n\n    this.sendFormNewProject = donation => {\n      //this is just an example of how you would submit a form\n      //you would have to implement something separately on the server\n      $.ajax({\n        url: this.props.url,\n        dataType: 'json',\n        type: 'POST',\n        data: donation,\n        success: function (data) {\n          this.setState({\n            data: data\n          });\n        }.bind(this),\n        error: function (xhr, status, err) {\n          console.error(this.props.url, status, err.toString());\n        }.bind(this)\n      });\n    };\n\n    this.state = {\n      list: []\n    };\n    this.sendFormNewProject = this.sendFormNewProject.bind(this);\n  }\n\n  componentDidMount() {\n    this.getObjetProject();\n  }\n\n  getObjetProject() {\n    fetch(\"http://localhost:3001/projectsList\", {\n      method: \"POST\"\n    }).then(results => {\n      return results.json();\n    }).then(data => {\n      console.log(data);\n      let projects = data.map(proj => {\n        return React.createElement(ItemProject, {\n          key: proj.id_project,\n          element: proj,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        });\n      });\n      this.setState({\n        list: projects\n      });\n    });\n  }\n\n  // sendFormNewProject = async (e) => {\n  //     e.preventDefault();\n  //     let formSendProject = document.forms[\"form-send-project\"];\n  //     let newProject = formSendProject.elements[\"newproject\"].value;\n  //     if (newProject !== \"\") {\n  //         // Serialize data to JSON\n  //         let project = JSON.stringify({ newproject: newProject });\n  //         let request = new XMLHttpRequest();\n  //         // Send form to adress \"/sendproject\"\n  //         request.open(\"POST\", \"/sendproject\", true);\n  //         request.setRequestHeader(\"Content-Type\", \"application/json\");\n  //         // Clear form\n  //         document.getElementById('new-project').value = \"\";\n  //         console.log(project);\n  //         this.getObjetProject();\n  //         request.send(project);\n  //     }\n  // }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"menu-item\",\n      id: \"item-project\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"menu-item-head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0438\"), React.createElement(\"b\", {\n      className: \"menu-button-add\",\n      id: \"add-project\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \" + \")), React.createElement(\"div\", {\n      className: \"form-add-div\",\n      id: \"form-add-divproject\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"menu-list\",\n      id: \"ul-projects-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.state.list), React.createElement(\"div\", {\n      className: \"menu-item-headbutton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"\\u041D\\u043E\\u0432\\u0438\\u0439 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\")), React.createElement(NewProjectForm, {\n      sendFormNewProject: this.sendFormNewProject,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default MenuProjects;","map":{"version":3,"sources":["/home/misha/Документи/Projects/ToDoList/client/src/components/Projects/MenuProjects.jsx"],"names":["React","NewProjectForm","ItemProject","MenuProjects","Component","constructor","sendFormNewProject","donation","$","ajax","url","props","dataType","type","data","success","setState","bind","error","xhr","status","err","console","toString","state","list","componentDidMount","getObjetProject","fetch","method","then","results","json","log","projects","map","proj","id_project","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport NewProjectForm from './NewProjectForm';\nimport ItemProject from \"./ItemProject\";\n\nclass MenuProjects extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            list: []\n        };\n        this.sendFormNewProject = this.sendFormNewProject.bind(this);\n    }\n\n    componentDidMount() {\n        this.getObjetProject();   \n    }\n\n    getObjetProject () {\n        fetch(`http://localhost:3001/projectsList`, { method: \"POST\" })\n        .then(results => {\n            return results.json();\n        }).then(data => {\n            console.log(data);\n            let projects = data.map((proj) => {\n                return (\n                       <ItemProject key={proj.id_project} element={proj} />\n                )\n            })\n            this.setState({list: projects});\n        })\n    }\n\n    sendFormNewProject = (donation) => {\n        //this is just an example of how you would submit a form\n        //you would have to implement something separately on the server\n        $.ajax({\n          url: this.props.url,\n          dataType: 'json',\n          type: 'POST',\n          data: donation,\n          success: function(data) {\n            this.setState({data: data});\n          }.bind(this),\n          error: function(xhr, status, err) {\n            console.error(this.props.url, status, err.toString());\n          }.bind(this)\n        });\n      }\n    \n    // sendFormNewProject = async (e) => {\n    //     e.preventDefault();\n\n    //     let formSendProject = document.forms[\"form-send-project\"];\n    //     let newProject = formSendProject.elements[\"newproject\"].value;\n    //     if (newProject !== \"\") {\n    //         // Serialize data to JSON\n    //         let project = JSON.stringify({ newproject: newProject });\n    //         let request = new XMLHttpRequest();\n    //         // Send form to adress \"/sendproject\"\n    //         request.open(\"POST\", \"/sendproject\", true);\n    //         request.setRequestHeader(\"Content-Type\", \"application/json\");\n    //         // Clear form\n    //         document.getElementById('new-project').value = \"\";\n    //         console.log(project);\n    //         this.getObjetProject();\n    //         request.send(project);\n    //     }\n    // }\n\n    render() {\n        return (\n            <div className=\"menu-item\" id=\"item-project\">\n                <div className=\"menu-item-head\" >\n                    <h4>Проекти</h4><b className=\"menu-button-add\" id=\"add-project\"> + </b>\n                </div>\n                <div className=\"form-add-div\" id=\"form-add-divproject\">\n                    <ul className=\"menu-list\" id=\"ul-projects-list\">\n                        {this.state.list}\n                    </ul>\n                    <div className=\"menu-item-headbutton\"><b>Новий проект</b></div>\n                    <NewProjectForm sendFormNewProject={this.sendFormNewProject} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default MenuProjects;\n"]},"metadata":{},"sourceType":"module"}